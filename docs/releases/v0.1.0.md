# Release v0.1.0

**Release Date:** 2025-01-23
**Git Tag:** v0.1.0 (pending)
**Go Version:** 1.25.1

## üéØ Highlights

Initial alpha release of ocserv-agent with **Phase 1: Core** complete. This release provides a production-ready foundation with configuration management, gRPC server with mTLS authentication, basic health checks, and graceful shutdown.

## ‚ú® New Features

- **[Project Structure]** - Complete project scaffolding
  - Directory structure (cmd/, internal/, pkg/, deploy/, docs/, test/)
  - Go module with all required dependencies
  - Podman Compose infrastructure (dev, test, build)
  - Dockerfile multi-stage build
  - systemd service file with security hardening
  - Commit: cc69c82

- **[Configuration Management]** - internal/config package
  - YAML configuration loading from file
  - Environment variable overrides
  - Comprehensive validation (TLS, ocserv, health, logging, security)
  - Smart defaults and auto-detect hostname
  - Support for all agent settings
  - Commit: a899a75

- **[gRPC Server with mTLS]** - Production-ready gRPC server
  - mTLS authentication with client certificate verification
  - TLS 1.3/1.2 support with secure cipher suites
  - Unary and stream interceptors (logging, recovery)
  - Graceful shutdown support
  - File: internal/grpc/server.go
  - Commit: 110d823

- **[HealthCheck Endpoint]** - Basic health monitoring
  - Tier 1 (heartbeat) fully implemented
  - Returns agent status, config loaded, timestamp
  - Tier 2 and 3 stubs for future deep checks
  - File: internal/grpc/handlers.go
  - Commit: 110d823

- **[Main Entrypoint]** - Robust application lifecycle
  - Config loading with error handling
  - Signal handling (SIGTERM, SIGINT, SIGHUP)
  - Graceful shutdown with 30s timeout
  - Zerolog setup (JSON and console formats)
  - Version flag support
  - File: cmd/agent/main.go
  - Commit: 110d823

- **[Protocol Definitions]** - gRPC/protobuf API specification
  - AgentService with 5 RPC methods
  - Message types for heartbeat, metrics, commands, config updates
  - Generated protobuf code (agent.pb.go, agent_grpc.pb.go)
  - File: pkg/proto/agent/v1/agent.proto
  - Commit: cc69c82

- **[Development Infrastructure]** - Podman Compose workflow
  - Hot-reload development environment (Air)
  - Containerized testing (unit, integration, lint, security)
  - Multi-architecture build support (amd64, arm64)
  - Proto generation in containers
  - Mock control server and mock ocserv stubs
  - Commits: cc69c82

- **[Documentation]** - Comprehensive project docs
  - README.md with quickstart and roadmap
  - TODO management system (CURRENT.md, BACKLOG.md, DONE.md)
  - Release notes structure
  - Makefile with detailed help
  - Commits: cc69c82, 1a97fe9, f6b7436

## üêõ Bug Fixes

None (initial release)

## üîß Improvements

None (initial release)

## üîí Security

- **[mTLS Authentication]** - Client certificate verification required
  - TLS 1.3 minimum version (configurable to TLS 1.2)
  - Secure cipher suites: TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256
  - Server name verification

- **[Configuration Validation]** - Security-focused config checks
  - Certificate file existence validation
  - Command whitelist enforcement (ready for Phase 2)
  - Timeout limits for command execution

- **[systemd Hardening]** - Production security features
  - NoNewPrivileges, PrivateTmp, ProtectSystem
  - Capability-based security (CAP_NET_ADMIN only)
  - Resource limits (memory, CPU, tasks)

**Note:** This is an alpha release. Full security audit pending.

## üìö Documentation

- Created README.md with project overview
- Created Makefile with comprehensive help
- Created TODO management system
- Created release notes structure

## ‚ö†Ô∏è Breaking Changes

None (initial release)

## üîÑ Dependencies

### Added
- google.golang.org/grpc v1.69.4
- google.golang.org/protobuf v1.36.3
- github.com/rs/zerolog v1.33.0
- go.opentelemetry.io/otel v1.34.0
- gopkg.in/yaml.v3 v3.0.1

## üìä Statistics

- Commits: 6
  - cc69c82: Initial setup (23 files, 4341+ lines)
  - 1a97fe9: TODO update
  - a899a75: Config package (2 files, 480 lines)
  - 110d823: gRPC + HealthCheck + main (3 files, 480 lines)
  - f6b7436: Phase 1 completion docs
  - 678b766: Exclude .claude directory
- Files Changed: 30+
- Contributors: 1
- Test Coverage: 0% (tests pending Phase 1.5)
- Lines Added: ~5,500
- Lines Deleted: ~150

## üôè Contributors

- Initial setup and infrastructure

## üì¶ Installation

### Development Build

```bash
git clone https://github.com/dantte-lp/ocserv-agent.git
cd ocserv-agent
make compose-build  # Build in containers (recommended)
```

### Requirements

- Podman and podman-compose (for containerized builds)
- Or: Go 1.25+, protoc (for local builds)
- TLS certificates (CA, server cert, client cert for testing)

## üß™ Testing

**Status:** Testing infrastructure ready, unit tests pending

```bash
# Run tests (when implemented)
make compose-test

# Build and verify compilation
make compose-build
```

**Test Coverage:** 0% (Phase 1.5 will add tests)

## üìù Notes

**Phase 1: Core - COMPLETED ‚úÖ**

All core functionality implemented:
- ‚úÖ Configuration loading and validation
- ‚úÖ gRPC server with mTLS
- ‚úÖ HealthCheck endpoint (Tier 1)
- ‚úÖ Graceful shutdown
- ‚úÖ Comprehensive documentation

**Known Limitations:**
- No unit tests yet (planned for Phase 1.5)
- HealthCheck Tier 2 and 3 are stubs
- RPC methods (ExecuteCommand, UpdateConfig, StreamLogs, AgentStream) are stubs
- No ocserv integration yet (Phase 2)

**Next Steps (Phase 2 - ocserv Integration):**
1. Implement systemctl wrapper for ocserv management
2. Implement occtl command execution with validation
3. Config file reading and management
4. Command injection protection
5. Add unit tests for all packages

## üîó Links

- [Repository](https://github.com/dantte-lp/ocserv-agent)
- [Documentation](https://github.com/dantte-lp/ocserv-agent/tree/main/docs)
