# Sample ocserv configuration file for testing
# This is a simplified version for testing the config reader

# Authentication method
auth = "pam"

# TCP and UDP port number
tcp-port = 443
udp-port = 443

# Server certificate and key
server-cert = /etc/ocserv/ssl/server-cert.pem
server-key = /etc/ocserv/ssl/server-key.pem

# CA certificate
ca-cert = /etc/ocserv/ssl/ca-cert.pem

# Maximum clients
max-clients = 128
max-same-clients = 2

# Server banner
banner = "Welcome to OpenConnect VPN"

# Keepalive in seconds
keepalive = 32400

# Dead peer detection in seconds
dpd = 90

# MTU discovery (yes/no)
try-mtu-discovery = true

# Compression (true/false)
compression = true

# TLS priorities
tls-priorities = "NORMAL:%SERVER_PRECEDENCE:%COMPAT:-RSA:-VERS-SSL3.0:-ARCFOUR-128"

# Authentication timeout in seconds
auth-timeout = 240

# Minimum reauth time in seconds
min-reauth-time = 300

# Cookie timeout
cookie-timeout = 300

# Deny roaming
deny-roaming = false

# Rekey time in seconds
rekey-time = 172800

# Rekey method
rekey-method = ssl

# Use occtl
use-occtl = true
occtl-socket-file = /var/run/ocserv/occtl.socket

# PID file
pid-file = /var/run/ocserv.pid

# Chroot directory
# chroot-dir = /var/lib/ocserv

# Run as user
run-as-user = nobody
run-as-group = daemon

# Socket file
socket-file = /var/run/ocserv-socket

# Server statistics
server-stats-reset-time = 604800

# Device name
device = vpns

# Predictable IPs
predictable-ips = true

# Default domain
default-domain = example.com

# IPv4 network
ipv4-network = 192.168.1.0
ipv4-netmask = 255.255.255.0

# IPv6 network
# ipv6-network = fda9:4efe:7e3b:03ea::/64

# DNS servers
dns = 8.8.8.8
dns = 8.8.4.4

# NBNS servers
# nbns = 192.168.1.3

# Split DNS
# split-dns = example.com

# Routes to push to clients
route = 10.0.0.0/255.0.0.0
route = 172.16.0.0/255.240.0.0
route = 192.168.0.0/255.255.0.0

# No routes
# no-route = 192.168.5.0/255.255.255.0

# Configuration files for users/groups
config-per-user = /etc/ocserv/config-per-user/
config-per-group = /etc/ocserv/config-per-group/

# Default user config
# default-user-config = /etc/ocserv/defaults/user.conf
# default-group-config = /etc/ocserv/defaults/group.conf

# Proxy protocol
listen-proxy-proto = false

# Custom headers
# custom-header = "X-DTLS-MTU: 1200"
# custom-header = "X-CSTP-MTU: 1200"

# Client bypass protocol
# client-bypass-protocol = true

# Tunnel all DNS
tunnel-all-dns = true

# Restrict user to routes
restrict-user-to-routes = true

# User profile (xml)
user-profile = /etc/ocserv/profile.xml

# Cisco client compatibility
cisco-client-compat = true

# DTLSv1 legacy mode
dtls-legacy = true

# Enable compression for backwards compatibility
# enable-compression = true

# Isolate workers
isolate-workers = true

# Mobile idle timeout
mobile-idle-timeout = 2400

# Switch to TCP timeout
switch-to-tcp-timeout = 25

# Idle timeout
idle-timeout = 1200

# Mobile idle timeout (again, for different context)
# mobile-dpd = 1800

# Session timeout
session-timeout = 86400

# Disconnect on idle
disconnect-on-idle = 1200

# Output buffer size
output-buffer = 23000

# DPD counter
# max-dpd-tries = 2

# Rate limit
# rate-limit-ms = 100

# Stats report time
stats-report-time = 360

# Syslog facility
# syslog-facility = daemon
